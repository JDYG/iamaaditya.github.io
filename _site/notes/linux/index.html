<!DOCTYPE html>
<html>
  <head>
    <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"> </script>
    <link href='http://fonts.googleapis.com/css?family=Ovo' rel='stylesheet' type='text/css'>

    <title>Linux Hacks – Aaditya Prakash (Adi) – Random Musings of Computer Vision grad student</title>

        <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    
    <meta name="description" content="Random Musings of Computer Vision grad student">
    <meta property="og:description" content="Random Musings of Computer Vision grad student" />
    
    <meta name="author" content="Aaditya Prakash (Adi)" />

    
    <meta property="og:title" content="Linux Hacks" />
    <meta property="twitter:title" content="Linux Hacks" />
    

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="/blog/style.css" />
    <link rel="alternate" type="application/rss+xml" title="Aaditya Prakash (Adi) - Random Musings of Computer Vision grad student" href="/blog/feed.xml" />

    <!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->
  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <a href="/blog/" class="site-avatar"><img src="https://raw.githubusercontent.com/iamaaditya/iamaaditya.github.io/master/images/profile_image.jpg" /></a>

          <div class="site-info">
            <h1 class="site-name"><a href="/blog/">Aaditya Prakash (Adi)</a></h1>
            <p class="site-description">Random Musings of Computer Vision grad student</p>
          </div>

          <nav>
            <a href="/blog/">Blog</a>
            <a href="/blog/research">Research</a>
            <a href="/blog/notes">Notes</a>
            <a href="/blog/about">About</a>
          </nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">
      <article class="page">

  <h1>Linux Hacks</h1>

  <div class="entry">
    <h2 id="add-time-to-the-command-execution">Add time to the command execution</h2>

<p>This allows me to see how long a process took. Generally, it is best to appent <code class="highlighter-rouge">time</code> command, which times the process, but generally I forget or that is an overkill.</p>

<p>If you are using ZSH you can use the function <code class="highlighter-rouge">preexec()</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>preexec () {
  DATE=`date +"%H:%M:%S on %Y-%m-%d"`
  C=$(($COLUMNS-24))
  echo -e "\033[1A\033[${C}C ${DATE} "
}
</code></pre>
</div>

<h2 id="autmatically-rename-tmux-window">Autmatically rename Tmux window</h2>

<p>If you use Tmux, would it not be nice, if the window were renamed based on currect directory ?</p>

<div class="highlighter-rouge"><pre class="highlight"><code>function chpwd(){
  ll
  tmux rename-window ${PWD//*\//}
}
</code></pre>
</div>

<h2 id="search-wiki">Search Wiki</h2>

<p>Power of wikipedia, quick and from terminal</p>

<div class="highlighter-rouge"><pre class="highlight"><code>wiki() {
echo -n -e "\n============================================\n\tWelcome to WikiPedia Search"; 
echo ""; 
i=1 ; 
for line in $(lynx --dump "http://en.wikipedia.org/w/index.php?title=Special%3ASearch&amp;profile=default&amp;search=$1&amp;fulltext=Search" | grep http://en.wikipedia.org/wiki | cut -c7-); 
   do 
    echo $i $line; 
    lines[$i]=$line ;  
    i=$(($i+1)); 
  done ; 
echo -n -e "\n============================================\n\tPlease select the link to open - "; 
read answer; 
w3m ${lines[$answer]}
}
</code></pre>
</div>

<h2 id="fail2ban-unban-unblock-ip-address">Fail2Ban unban (unblock) IP Address</h2>

<p>First of all, if you do not have Fail2Ban installed, install it ! It is a lifesave !</p>

<p>But sooner or later, one of your colleage or friend will try the passowrd incorrectly three times (or as many you have setup in your config file. When that happens, follow the steps to unban their IP address.</p>

<ol>
  <li>
    <p>See the list of Banned IPs
<code class="highlighter-rouge">sudo iptables -L -n</code></p>
  </li>
  <li>
    <p>Get the name of the jail. This is what confused me for sometime. Do not use the name you see the Iptables. I kept seeing f2bsshd and tried using that. Correct jail name is given by the following command.
<code class="highlighter-rouge">sudo fail2ban-client status</code></p>
  </li>
  <li>
    <p>Unban the IP
<code class="highlighter-rouge">fail2ban-client set &lt;jail_name&gt; unbanip &lt;ip_address&gt;</code>
for e.g
<code class="highlighter-rouge">fail2ban-client set ssh unbanip 123.123.123.123</code></p>
  </li>
</ol>

<pre>
    Errors:

    Message
        ERROR  NOK: ('ssh-iptables',)
        Sorry but the jail 'ssh-iptables' does not exist

        ERROR  NOK: ('f2b-sshd',)
        Sorry but the jail 'f2b-sshd' does not exist

    Issue 
        Incorrect jail name
    Solution 
       
        See point 2 above
</pre>

<h2 id="redhat-rhel-and-centos">Redhat (RHEL) and CentOS</h2>
<div class="highlighter-rouge"><pre class="highlight"><code>Installling a library without sudo

1. Download the pre-compiled binary ".rpm". [See this](http://rpmfind.net/linux/rpm2html/search.php)
2. conver rpm to cpio using
`rpm2cpio to-install.rpm | cpio -idv`
</code></pre>
</div>

<h2 id="rsync-see-thishttpswwwdigitaloceancomcommunitytutorialshow-to-use-rsync-to-sync-local-and-remote-directories-on-a-vps">Rsync <a href="https://www.digitalocean.com/community/tutorials/how-to-use-rsync-to-sync-local-and-remote-directories-on-a-vps">See this</a></h2>

<h2 id="sort-by-column-in-vim">Sort by column in Vim</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>First make the columsn (separate them so that you know exactly how many columns and which ones)
`:%!column -t`

Now to sort by second (2)  column, and treat it as number (n) and in reverse (r)
`:%!sort -k2nr`

More examples
`:%!sort -k4 -bk3g`
Sort by 4th column (k4), followed by 3rd column (k3), ignore blank spaces (b), general numeric sort (g)
</code></pre>
</div>

<p><a href="https://jordanelver.co.uk/blog/2014/03/12/sorting-columnds-of-text-in-vim-using-sort/">Credit</a></p>

  </div>
</article>

    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
          
<a href="mailto:aprakash [at] brandeis . edu"><i class="svg-icon email"></i></a>


<a href="https://github.com/iamaaditya"><i class="svg-icon github"></i></a>

<a href="https://www.linkedin.com/in/aaditya-prakash-68453338"><i class="svg-icon linkedin"></i></a>

<a href="/blog/feed.xml"><i class="svg-icon rss"></i></a>
<a href="https://www.twitter.com/aaditya_prakash"><i class="svg-icon twitter"></i></a>


<a href="https://plus.google.com//u/0/100303074762902184969?rel=author"><i class="svg-icon googleplus"></i></a>
          <br />
          Built using Jekyll. No copyright held. Aaditya Prakash.
        </footer>
      </div>
    </div>

    
	<!-- Google Analytics -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-70371377-1', 'auto');
		ga('send', 'pageview', {
		  'page': '/notes/linux/',
		  'title': 'Linux Hacks'
		});
	</script>
	<!-- End Google Analytics -->


  </body>
</html>
