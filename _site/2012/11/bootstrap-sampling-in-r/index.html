<!DOCTYPE html>
<html>
  <head>
    <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"> </script>
    <link href='http://fonts.googleapis.com/css?family=Ovo' rel='stylesheet' type='text/css'>

    <title>Bootstrap sampling in R – Aaditya Prakash (Adi) – Random Musings of Computer Vision grad student</title>

        <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    
    <meta name="description" content="Bootstrapping is a very useful sampling method. While it’s robustness is not that simlar to MCMC or Metropolis-Hastings or Landau. Bootstrapping draws from provided distribution with replacement.

" />
    <meta property="og:description" content="Bootstrapping is a very useful sampling method. While it’s robustness is not that simlar to MCMC or Metropolis-Hastings or Landau. Bootstrapping draws from provided distribution with replacement.

" />
    
    <meta name="author" content="Aaditya Prakash (Adi)" />

    
    <meta property="og:title" content="Bootstrap sampling in R" />
    <meta property="twitter:title" content="Bootstrap sampling in R" />
    

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="/blog/style.css" />
    <link rel="alternate" type="application/rss+xml" title="Aaditya Prakash (Adi) - Random Musings of Computer Vision grad student" href="/blog/feed.xml" />

    <!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->
  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <a href="/blog/" class="site-avatar"><img src="https://raw.githubusercontent.com/iamaaditya/iamaaditya.github.io/master/images/profile_image.jpg" /></a>

          <div class="site-info">
            <h1 class="site-name"><a href="/blog/">Aaditya Prakash (Adi)</a></h1>
            <p class="site-description">Random Musings of Computer Vision grad student</p>
          </div>

          <nav>
            <a href="/blog/">Blog</a>
            <a href="/blog/research">Research</a>
            <a href="/blog/notes">Notes</a>
            <a href="/blog/about">About</a>
          </nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">
      <article class="post">
  <h1>Bootstrap sampling in R</h1>

  <div class="entry">
    <p><a href="http://en.wikipedia.org/wiki/Bootstrapping_%28statistics%29" title="Bootstrap Sampling" target="_blank">Bootstrapping </a>is a very useful sampling method. While it’s robustness is not that simlar to MCMC or Metropolis-Hastings or Landau. Bootstrapping draws from provided distribution with replacement.</p>

<p>While there are lot of fancy and featured enabled simulation and sampling softwares, nothing is better than writing codes from groudup. While the sampling code given below is not much featured enabled but anyone with some background can easily add the features as they require. The bootstrapping could be used in several scenarios specially when dealing with very large simulation scenario where it becomes infeasible to use deterministic rules to obtain the observables. More importantly while coding for AI where the sample state grows exponentially, simple sampling techniques like Bootstrapping comes into handy.</p>

<p>This blogpost presents the simple code to achieve Bootstrapping in R, readers not familiar with concepts of Bootstrapping will benefit from this <a href="http://people.revoledu.com/kardi/tutorial/Bootstrap/examples.htm" title="Tutorial on Bootstrapping" target="_blank">tutorial with examples via MS Excel</a>.</p>

<p>Following is the output obtained from the code given below:</p>

<h3 id="output">Output</h3>

<p><img class="size-medium wp-image-192 " title="Bootstrap in R" src="http://aaditya.info/blog/wp-content/uploads/2012/11/BootStrap_Sampling_in_R.png" alt="bootstrap in R" width="NaN" height="NaN" /></p>

<h3 id="code">Code</h3>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="line_numbers">
        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
</pre>
      </td>
      
      <td class="code">
        <pre class="rsplus" style="font-family:monospace;"><span style="color: #228B22;">#Bootstrap </span>
<span style="color: #228B22;">#aaditya - 26/10/2012</span>
&nbsp;
<span style="color: #228B22;">######################################</span>
<span style="color: #0000FF; font-weight: bold;">dt</span> <span style="color: #080;">&lt;-</span> <span style="color: #0000FF; font-weight: bold;">read.<span style="">csv</span></span><span style="color: #080;">&#40;</span><span style="color: #ff0000;">"successRatio.csv"</span>, stringsAsFactors<span style="color: #080;">=</span><span style="color: #0000FF; font-weight: bold;">F</span><span style="color: #080;">&#41;</span>
<span style="color: #228B22;">## successRatio.csv is file which contains samples eg. </span>
<span style="color: #228B22;">## SampleValue (Probabilty)</span>
<span style="color: #228B22;">## -0.0455</span>
<span style="color: #228B22;">## -0.0042</span>
<span style="color: #228B22;">## -0.0456</span>
<span style="color: #228B22;">## -0.0035</span>
<span style="color: #228B22;">## 0.0394</span>
<span style="color: #228B22;">## 0.0094</span>
&nbsp;
StartEq <span style="color: #080;">=</span> <span style="color: #ff0000;">100</span>
Iterations <span style="color: #080;">=</span> <span style="color: #ff0000;">1000</span>
NoOfEvents <span style="color: #080;">=</span> <span style="color: #ff0000;">100</span>
Rf <span style="color: #080;">=</span> <span style="color: #ff0000;">1</span>
<span style="color: #228B22;">####################################</span>
&nbsp;
eq<span style="color: #080;">&lt;-</span><span style="color: #0000FF; font-weight: bold;">rep</span><span style="color: #080;">&#40;</span>NA, NoOfEvents<span style="color: #080;">&#41;</span>
&nbsp;
doBSRun <span style="color: #080;">&lt;-</span> <span style="color: #0000FF; font-weight: bold;">function</span><span style="color: #080;">&#40;</span><span style="color: #080;">&#41;</span> <span style="color: #080;">&#123;</span>
  eq<span style="color: #080;">&#91;</span><span style="color: #ff0000;">1</span><span style="color: #080;">&#93;</span> <span style="color: #080;">&lt;-</span> StartEq
  <span style="color: #0000FF; font-weight: bold;">for</span><span style="color: #080;">&#40;</span>i <span style="color: #0000FF; font-weight: bold;">in</span> <span style="color: #ff0000;">2</span><span style="color: #080;">:</span>NoOfEvents<span style="color: #080;">&#41;</span> <span style="color: #080;">&#123;</span>
    eq<span style="color: #080;">&#91;</span>i<span style="color: #080;">&#93;</span> <span style="color: #080;">=</span> eq<span style="color: #080;">&#91;</span>i<span style="color: #080;">-</span><span style="color: #ff0000;">1</span><span style="color: #080;">&#93;</span>  <span style="color: #080;">*</span> <span style="color: #080;">&#40;</span><span style="color: #ff0000;">1</span> <span style="color: #080;">+</span> <span style="color: #0000FF; font-weight: bold;">sample</span><span style="color: #080;">&#40;</span><span style="color: #0000FF; font-weight: bold;">dt</span>$SampleValue,<span style="color: #ff0000;">1</span><span style="color: #080;">&#41;</span><span style="color: #080;">&#41;</span> <span style="color: #080;">*</span> Rf
  <span style="color: #080;">&#125;</span>
  <span style="color: #0000FF; font-weight: bold;">return</span><span style="color: #080;">&#40;</span>eq<span style="color: #080;">&#41;</span>
<span style="color: #080;">&#125;</span>
&nbsp;
values <span style="color: #080;">&lt;-</span> <span style="color: #0000FF; font-weight: bold;">replicate</span><span style="color: #080;">&#40;</span>Iterations, doBSRun<span style="color: #080;">&#40;</span><span style="color: #080;">&#41;</span><span style="color: #080;">&#41;</span>
&nbsp;
<span style="color: #0000FF; font-weight: bold;">par</span><span style="color: #080;">&#40;</span>xaxs<span style="color: #080;">=</span><span style="color: #ff0000;">"i"</span><span style="color: #080;">&#41;</span>
<span style="color: #0000FF; font-weight: bold;">plot</span><span style="color: #080;">&#40;</span><span style="color: #ff0000;">1</span><span style="color: #080;">:</span>NoOfEvents, <span style="color: #0000FF; font-weight: bold;">rep</span><span style="color: #080;">&#40;</span>NA, NoOfEvents <span style="color: #080;">&#41;</span>, 
     xlab<span style="color: #080;">=</span><span style="color: #ff0000;">"Iterations"</span>, ylab<span style="color: #080;">=</span><span style="color: #ff0000;">"Growth"</span>,
     ylim<span style="color: #080;">=</span><span style="color: #0000FF; font-weight: bold;">c</span><span style="color: #080;">&#40;</span><span style="color: #0000FF; font-weight: bold;">min</span><span style="color: #080;">&#40;</span>values<span style="color: #080;">&#41;</span>,<span style="color: #0000FF; font-weight: bold;">max</span><span style="color: #080;">&#40;</span>values<span style="color: #080;">&#41;</span><span style="color: #080;">&#41;</span>,
     xlim<span style="color: #080;">=</span><span style="color: #0000FF; font-weight: bold;">c</span><span style="color: #080;">&#40;</span><span style="color: #ff0000;">1</span>,NoOfEvents<span style="color: #080;">&#41;</span>, main<span style="color: #080;">=</span><span style="color: #ff0000;">"Bootstrap Sampling"</span><span style="color: #080;">&#41;</span>
<span style="color: #0000FF; font-weight: bold;">matlines</span><span style="color: #080;">&#40;</span>values,type<span style="color: #080;">=</span><span style="color: #ff0000;">"l"</span>,lty<span style="color: #080;">=</span><span style="color: #ff0000;">1</span><span style="color: #080;">&#41;</span>
&nbsp;
sd1 <span style="color: #080;">=</span> <span style="color: #0000FF; font-weight: bold;">sd</span><span style="color: #080;">&#40;</span>values<span style="color: #080;">&#91;</span>NoOfEvents,<span style="color: #080;">&#93;</span><span style="color: #080;">&#41;</span>
mean1 <span style="color: #080;">=</span> <span style="color: #0000FF; font-weight: bold;">mean</span><span style="color: #080;">&#40;</span>values<span style="color: #080;">&#91;</span>NoOfEvents,<span style="color: #080;">&#93;</span><span style="color: #080;">&#41;</span>
<span style="color: #0000FF; font-weight: bold;">print</span><span style="color: #080;">&#40;</span><span style="color: #0000FF; font-weight: bold;">summary</span><span style="color: #080;">&#40;</span>values<span style="color: #080;">&#91;</span>NoOfEvents,<span style="color: #080;">&#93;</span><span style="color: #080;">&#41;</span><span style="color: #080;">&#41;</span>
sdString <span style="color: #080;">=</span> <span style="color: #0000FF; font-weight: bold;">paste</span><span style="color: #080;">&#40;</span><span style="color: #ff0000;">"SD : "</span>, sd1<span style="color: #080;">&#41;</span>
<span style="color: #0000FF; font-weight: bold;">write</span><span style="color: #080;">&#40;</span>sdString, <span style="color: #0000FF; font-weight: bold;">file</span><span style="color: #080;">=</span><span style="color: #ff0000;">""</span><span style="color: #080;">&#41;</span>
outputString <span style="color: #080;">=</span> <span style="color: #0000FF; font-weight: bold;">paste</span><span style="color: #080;">&#40;</span><span style="color: #ff0000;">"With 99.73% confidence the final growth will be between"</span>, 
                     mean1 <span style="color: #080;">-</span> <span style="color: #ff0000;">3</span><span style="color: #080;">*</span>sd1, <span style="color: #ff0000;">" and "</span>, mean1 <span style="color: #080;">+</span> <span style="color: #ff0000;">3</span><span style="color: #080;">*</span>sd1<span style="color: #080;">&#41;</span> 
<span style="color: #0000FF; font-weight: bold;">write</span><span style="color: #080;">&#40;</span>outputString, <span style="color: #0000FF; font-weight: bold;">file</span><span style="color: #080;">=</span><span style="color: #ff0000;">""</span><span style="color: #080;">&#41;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>Extensive list of Bootstrap functions <em>(SPlus/Unix shell scripts)</em> can be found at <a href="http://lib.stat.cmu.edu/S/bootstrap.funs" title="Functions for BootStrap" target="_blank">http://lib.stat.cmu.edu/S/bootstrap.funs</a></p>

  </div>

  <div class="date">
    Written on November 19, 2012
  </div>

  
<div class="comments">
	<div id="disqus_thread"></div>
	<script type="text/javascript">

	    var disqus_shortname = 'iamaaditya';

	    (function() {
	        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	    })();

	</script>
	<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

</article>

    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
          
<a href="mailto:aprakash [at] brandeis . edu"><i class="svg-icon email"></i></a>


<a href="https://github.com/iamaaditya"><i class="svg-icon github"></i></a>

<a href="https://www.linkedin.com/in/aaditya-prakash-68453338"><i class="svg-icon linkedin"></i></a>

<a href="/blog/feed.xml"><i class="svg-icon rss"></i></a>
<a href="https://www.twitter.com/aaditya_prakash"><i class="svg-icon twitter"></i></a>


<a href="https://plus.google.com//u/0/100303074762902184969?rel=author"><i class="svg-icon googleplus"></i></a>
          <br />
          Built using Jekyll. No copyright held. Aaditya Prakash.
        </footer>
      </div>
    </div>

    
	<!-- Google Analytics -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-70371377-1', 'auto');
		ga('send', 'pageview', {
		  'page': '/2012/11/bootstrap-sampling-in-r/',
		  'title': 'Bootstrap sampling in R'
		});
	</script>
	<!-- End Google Analytics -->


  </body>
</html>
